<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>replit</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css
" rel="stylesheet" type="text/css" />
  <style>
    #loading {
      display: none;
    }

    #success {
      display: none;
      color: green;
    }
  </style>
</head>

<body class="container mt-4">
  <h1>Add Employee</h1>
  <form id="employeeForm">
    <label for="name">Name:</label><br>
    <input id="name" type="text" /><br><br>
    <label for="age">Age:</label><br>
    <input id="age" type="number" /><br><br>
    <label for="position">Position:</label><br>
    <input id="position" type="text" /><br><br>
    <label for="department">Department:</label><br>
    <input id="department" type="text" /><br><br>
    <label for="salary">Salary:</label><br>
    <input id="salary" type="number" /><br><br>
    <button type="submit" class="btn btn-primary">Add Employee</button>
  </form>
  <div id="loading">
    sending data...
  </div>
  <div id="success">
    Employee added successfully!
  </div>

  <script>
    const employeeForm = document.querySelector('#employeeForm');
    const name = document.querySelector('#name');
    const position = document.querySelector('#position');
    const department = document.querySelector('#department');
    const salary = document.querySelector('#salary');
    const loading = document.querySelector('#loading');
    const success = document.querySelector('#success');
    const apiUrl = 'https://employee-management-backend-student-neog-ca.replit.app/employee'

    employeeForm.addEventListener("submit", function (event) {
      event.preventDefault();

      loading.style.display = "block"

      const employeeData = {
        name: name.value,
        position: position.value,
        department: department.value,
        salary: salary.value
      }
      fetch(apiUrl, {

        method: "POST",
        body: JSON.stringify(employeeData),
        headers: {
          'Content-Type': 'application/json'
        }

      }).then(function (response) {
        return response.json()
      }).then(function (data) {
        if (data) {
          loading.style.display = "none"
          success.style.display = "block"
        }
      })

    })
  </script>
</body>

</html>

<!-- method: "POST",
body: JSON.stringify(studentData),
headers: {
  'Content-Type': 'application/json' -->